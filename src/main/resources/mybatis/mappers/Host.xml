<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="host">

	<!-- 키워드 불러오기 -->
	<select id="keywordSelect" resultType="KeywordVo">
	<![CDATA[
		select kw.keywordname
		from keyword kw;
	]]>
	</select>










	<!-- 호스트 등록 -->
	<insert id="HostInsert" parameterType="HostVo">
	<![CDATA[
		insert INTO host
		values (SEQ_GUESTBOOK_NO.nextval,
						#{path},
						#{zipcode},
						#{adress1},
						#{adress2},
						#{adress3},
						#{x},
						#{y},
						#{intro},
						#{asking},
						#{cost},
						)
    ]]>
	</insert>


	<!-- 키워드 등록 -->
	<insert id="keywordInsert" parameterType="KeywordVo">
	<![CDATA[
	
	key(hostNo
	
		insert INTO keyword
		values (SEQ_GUESTBOOK_NO.nextval,
					
						)
    ]]>
	</insert>


	<!-- 호스트정보 가져와서 수정 폼 -->
	<select id="getHostByHostNo" parameterType="int" resultType="HostVo">
			<![CDATA[
				select ho.hostNo,
				       ho.userNo,
				       ho.keywordNo,
				       us.path,
				       ho.zipcode,
				       ho.adress1,
				       ho.adress2,
				       ho.adress3,
				       ho.x,
				       ho.y,
				       ho.intro,
				       ho.asking,
				       ho.hostcost,
				       from   users us, host ho 
				where  hostNo = #{hostNo}
			]]>
	</select>


	<!-- 키워드 가져와서 수정 폼 -->
	<select id="getKeywordListByHostNo" parameterType="int" resultType="KeywordVo">
	<![CDATA[
			select   kw.hostNo,
			         kn.keywordName
			from     keyword kw, keywordname kn
			where    kw.keywordNo = kn.keywordNo
			and      kw.hostNo = #{hostNo}
			order by kn.keywordNo asc
    ]]>
	</select>
	
	
	<!-- 가져온 호스트정보 수정업데이트 -->
	<update id="updateHost" parameterType="HostVo">
	<![CDATA[
		update host
		set         name=#{name},
		   		       password=#{password},
		    	       gender=#{gender}
		where  hostNo=#{hostNo}
    ]]>
	</update>


	<!-- 가져온 키워드정보 수정업데이트 -->
	<update id="updateKeyword" parameterType="KeywordVo">
	<![CDATA[
		update host
		set         name=#{name},
		   		       password=#{password},
		    	       gender=#{gender}
		where  hostNo=#{hostNo}
    ]]>
	</update>


</mapper>